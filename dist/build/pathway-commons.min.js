!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.pathwayCommons=t()}}(function(){return function t(e,r,n){function o(u,s){if(!r[u]){if(!e[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[u]={exports:{}};e[u][0].call(f.exports,function(t){var r=e[u][1][t];return o(r||t)},f,f.exports,t,e,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(t,e,r){var n=t("./_getNative"),o=t("./_root"),i=n(o,"DataView");e.exports=i},{"./_getNative":15,"./_root":25}],2:[function(t,e,r){var n=t("./_getNative"),o=t("./_root"),i=n(o,"Map");e.exports=i},{"./_getNative":15,"./_root":25}],3:[function(t,e,r){var n=t("./_getNative"),o=t("./_root"),i=n(o,"Promise");e.exports=i},{"./_getNative":15,"./_root":25}],4:[function(t,e,r){var n=t("./_getNative"),o=t("./_root"),i=n(o,"Set");e.exports=i},{"./_getNative":15,"./_root":25}],5:[function(t,e,r){var n=t("./_root"),o=n.Symbol;e.exports=o},{"./_root":25}],6:[function(t,e,r){var n=t("./_getNative"),o=t("./_root"),i=n(o,"WeakMap");e.exports=i},{"./_getNative":15,"./_root":25}],7:[function(t,e,r){function n(t){return null==t?void 0===t?a:s:c&&c in Object(t)?i(t):u(t)}var o=t("./_Symbol"),i=t("./_getRawTag"),u=t("./_objectToString"),s="[object Null]",a="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=n},{"./_Symbol":5,"./_getRawTag":16,"./_objectToString":23}],8:[function(t,e,r){function n(t){return i(t)&&o(t)==u}var o=t("./_baseGetTag"),i=t("./isObjectLike"),u="[object Arguments]";e.exports=n},{"./_baseGetTag":7,"./isObjectLike":35}],9:[function(t,e,r){function n(t){return!(!u(t)||i(t))&&(o(t)?y:c).test(s(t))}var o=t("./isFunction"),i=t("./_isMasked"),u=t("./isObject"),s=t("./_toSource"),a=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,p=f.toString,h=l.hasOwnProperty,y=RegExp("^"+p.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},{"./_isMasked":19,"./_toSource":26,"./isFunction":32,"./isObject":34}],10:[function(t,e,r){function n(t){return u(t)&&i(t.length)&&!!s[o(t)]}var o=t("./_baseGetTag"),i=t("./isLength"),u=t("./isObjectLike"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=n},{"./_baseGetTag":7,"./isLength":33,"./isObjectLike":35}],11:[function(t,e,r){function n(t){if(!o(t))return i(t);var e=[];for(var r in Object(t))s.call(t,r)&&"constructor"!=r&&e.push(r);return e}var o=t("./_isPrototype"),i=t("./_nativeKeys"),u=Object.prototype,s=u.hasOwnProperty;e.exports=n},{"./_isPrototype":20,"./_nativeKeys":21}],12:[function(t,e,r){function n(t){return function(e){return t(e)}}e.exports=n},{}],13:[function(t,e,r){var n=t("./_root"),o=n["__core-js_shared__"];e.exports=o},{"./_root":25}],14:[function(t,e,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e,r){function n(t,e){var r=i(t,e);return o(r)?r:void 0}var o=t("./_baseIsNative"),i=t("./_getValue");e.exports=n},{"./_baseIsNative":9,"./_getValue":18}],16:[function(t,e,r){function n(t){var e=u.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[a]=r:delete t[a]),o}var o=t("./_Symbol"),i=Object.prototype,u=i.hasOwnProperty,s=i.toString,a=o?o.toStringTag:void 0;e.exports=n},{"./_Symbol":5}],17:[function(t,e,r){var n=t("./_DataView"),o=t("./_Map"),i=t("./_Promise"),u=t("./_Set"),s=t("./_WeakMap"),a=t("./_baseGetTag"),c=t("./_toSource"),f=c(n),l=c(o),p=c(i),h=c(u),y=c(s),v=a;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||u&&"[object Set]"!=v(new u)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=a(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case y:return"[object WeakMap]"}return e}),e.exports=v},{"./_DataView":1,"./_Map":2,"./_Promise":3,"./_Set":4,"./_WeakMap":6,"./_baseGetTag":7,"./_toSource":26}],18:[function(t,e,r){function n(t,e){return null==t?void 0:t[e]}e.exports=n},{}],19:[function(t,e,r){function n(t){return!!i&&i in t}var o=t("./_coreJsData"),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();e.exports=n},{"./_coreJsData":13}],20:[function(t,e,r){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||o)}var o=Object.prototype;e.exports=n},{}],21:[function(t,e,r){var n=t("./_overArg"),o=n(Object.keys,Object);e.exports=o},{"./_overArg":24}],22:[function(t,e,r){var n=t("./_freeGlobal"),o="object"==typeof r&&r&&!r.nodeType&&r,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,u=i&&i.exports===o,s=u&&n.process,a=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},{"./_freeGlobal":14}],23:[function(t,e,r){function n(t){return i.call(t)}var o=Object.prototype,i=o.toString;e.exports=n},{}],24:[function(t,e,r){function n(t,e){return function(r){return t(e(r))}}e.exports=n},{}],25:[function(t,e,r){var n=t("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},{"./_freeGlobal":14}],26:[function(t,e,r){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var o=Function.prototype,i=o.toString;e.exports=n},{}],27:[function(t,e,r){var n=t("./_baseIsArguments"),o=t("./isObjectLike"),i=Object.prototype,u=i.hasOwnProperty,s=i.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(t){return o(t)&&u.call(t,"callee")&&!s.call(t,"callee")};e.exports=a},{"./_baseIsArguments":8,"./isObjectLike":35}],28:[function(t,e,r){var n=Array.isArray;e.exports=n},{}],29:[function(t,e,r){function n(t){return null!=t&&i(t.length)&&!o(t)}var o=t("./isFunction"),i=t("./isLength");e.exports=n},{"./isFunction":32,"./isLength":33}],30:[function(t,e,r){var n=t("./_root"),o=t("./stubFalse"),i="object"==typeof r&&r&&!r.nodeType&&r,u=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=u&&u.exports===i,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,f=c||o;e.exports=f},{"./_root":25,"./stubFalse":37}],31:[function(t,e,r){function n(t){if(null==t)return!0;if(a(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||u(t)))return!t.length;var e=i(t);if(e==p||e==h)return!t.size;if(f(t))return!o(t).length;for(var r in t)if(v.call(t,r))return!1;return!0}var o=t("./_baseKeys"),i=t("./_getTag"),u=t("./isArguments"),s=t("./isArray"),a=t("./isArrayLike"),c=t("./isBuffer"),f=t("./_isPrototype"),l=t("./isTypedArray"),p="[object Map]",h="[object Set]",y=Object.prototype,v=y.hasOwnProperty;e.exports=n},{"./_baseKeys":11,"./_getTag":17,"./_isPrototype":20,"./isArguments":27,"./isArray":28,"./isArrayLike":29,"./isBuffer":30,"./isTypedArray":36}],32:[function(t,e,r){function n(t){if(!i(t))return!1;var e=o(t);return e==s||e==a||e==u||e==c}var o=t("./_baseGetTag"),i=t("./isObject"),u="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";e.exports=n},{"./_baseGetTag":7,"./isObject":34}],33:[function(t,e,r){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}var o=9007199254740991;e.exports=n},{}],34:[function(t,e,r){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}e.exports=n},{}],35:[function(t,e,r){function n(t){return null!=t&&"object"==typeof t}e.exports=n},{}],36:[function(t,e,r){var n=t("./_baseIsTypedArray"),o=t("./_baseUnary"),i=t("./_nodeUtil"),u=i&&i.isTypedArray,s=u?o(u):n;e.exports=s},{"./_baseIsTypedArray":10,"./_baseUnary":12,"./_nodeUtil":22}],37:[function(t,e,r){function n(){return!1}e.exports=n},{}],38:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("lodash/isObject"),u=t("./private/constants.js"),s=t("./private/pc-request.js");e.exports=function(){function t(){n(this,t),this.request=new s("metadata/datasources",!1,u.idPrefix+"datasources"),this.data=this.refresh()}return o(t,[{key:"refresh",value:function(){var t=this.request.fetch().then(function(t){var e={};return i(t)?t.filter(function(t){return 0==t.notPathwayData}).map(function(t){var r=t.name.length>1?t.name[1]:t.name[0];e[t.uri]={id:t.identifier,uri:t.uri,name:r,description:t.description,type:t.type,iconUrl:t.iconUrl}}):e=null,e}).catch(function(){return null});return this.data=t,t}},{key:"fetch",value:function(){return this.data}},{key:"lookupIcon",value:function(t){return t=t||"",this.data.then(function(e){for(var r in e){var n=e[r];if(n.uri==t||n.name.toLowerCase()==t.toLowerCase())return n.iconUrl}})}}]),t}()},{"./private/constants.js":41,"./private/pc-request.js":43,"lodash/isObject":34}],39:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./private/pc-request.js");e.exports=function(){function t(){n(this,t),this.request=new i("get")}return o(t,[{key:"query",value:function(t){return this.request.query(t),this}},{key:"uri",value:function(t){return this.request.set("uri",t),this}},{key:"format",value:function(t){return this.request.set("format",t),this}},{key:"fetch",value:function(){return this.request.fetch()}}]),t}()},{"./private/pc-request.js":43}],40:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./private/pc-request.js"),u=t("./utilities.js").sourceCheck;e.exports=function(){function t(){n(this,t),this.request=new i("graph")}return o(t,[{key:"query",value:function(t){return this.request.query(t),this}},{key:"kind",value:function(t){return this.request.set("kind",t),this}},{key:"source",value:function(t,e){if(void 0!==e&&!u(e,t))throw new SyntaxError(t+" is an invalid "+e.toUpperCase()+" ID");return this.request.set("source",t),this}},{key:"target",value:function(t,e){return void 0!==e?this.request.set("target",t):u(e,t)&&this.request.set("target",t),this}},{key:"direction",value:function(t){return this.request.set("direction",t),this}},{key:"limit",value:function(t){return this.request.set("limit",t),this}},{key:"format",value:function(t){return this.request.set("format",t),this}},{key:"datasource",value:function(t){return this.request.set("datasource",t),this}},{key:"organism",value:function(t){return this.request.set("organism",t),this}},{key:"fetch",value:function(){return this.request.fetch()}}]),t}()},{"./private/pc-request.js":43,"./utilities.js":47}],41:[function(t,e,r){"use strict";e.exports={pcAddress:"https://www.pathwaycommons.org/pc2/",idPrefix:"pathwaycommons-js-lib:",dsIdValidation:{uniprot:function(t){return/^([A-N,R-Z][0-9]([A-Z][A-Z, 0-9][A-Z, 0-9][0-9]){1,2})|([O,P,Q][0-9][A-Z, 0-9][A-Z, 0-9][A-Z, 0-9][0-9])(\.\d+)?$/.test(t)},chebi:function(t){return/^CHEBI:\d+$/.test(t)&&t.length<="CHEBI:".length+6},hgnc:function(t){return/^[A-Za-z-0-9_]+(\@)?$/.test(t)},refseq:function(t){return/^((AC|AP|NC|NG|NM|NP|NR|NT|NW|XM|XP|XR|YP|ZP)_\d+|(NZ\_[A-Z]{4}\d+))(\.\d+)?$/.test(t)},keggpathway:function(t){return/^\w{2,4}\d{5}$/.test(t)},keggdrug:function(t){return/^D\d+$/.test(t)},smpdb:function(t){return/^SMP\d{5}$/.test(t)},drugbank:function(t){return/^DB\d{5}$/.test(t)}}}},{}],42:[function(t,e,r){"use strict";t("./constants.js");e.exports={validateString:function(t){return"string"==typeof t&&0!==t.length},escapeLucene:function(t){return t.replace(/([\!\*\+\-\&\|\(\)\[\]\{\}\^\~\?\:\/\\"])/g,"\\$1")}}},{"./constants.js":41}],43:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./constants.js"),u=t("fetch-ponyfill")().fetch,s=t("lodash/isEmpty"),a=t("lodash/isArray"),c=t("lodash/isObject"),f=t("query-string").stringify,l=t("../utilities.js"),p=t("./helpers.js").validateString;e.exports=function(){function t(e,r,o){if(n(this,t),!p(e))throw new SyntaxError("PcRequest constructor parameter invalid");Object.defineProperty(this,"submitId",{get:function(){return!1!==r}}),Object.defineProperty(this,"command",{get:function(){return e}}),Object.defineProperty(this,"user",{get:function(){return o||l.user()}}),this.queryObject={},this.formatString=""}return o(t,[{key:"query",value:function(t){return c(t)&&(this.queryObject=Object.assign({},t)),this}},{key:"set",value:function(t,e){return t=String(t),""!==t&&(""===e||a(e)&&s(e)?this.delete(t):this.queryObject[t]=e),this}},{key:"delete",value:function(t){return delete this.queryObject[t],this}},{key:"format",value:function(t){return-1!==["json","xml",""].indexOf(t)&&(this.formatString=t),this}},{key:"fetch",value:function(){var t=i.pcAddress+this.command+(this.formatString?"."+this.formatString:"")+"?"+f(Object.assign({},this.queryObject,this.submitId?{user:this.user}:{}));return u(t,{method:"GET",mode:"no-cors"}).then(function(t){switch(t.status){case 200:return-1!==(t.headers._headers?t.headers._headers["content-type"][0]:t.headers.map["content-type"]).toLowerCase().indexOf("json")?t.json():t.text();case 500:return null;default:throw new Error(t.status)}})}}]),t}()},{"../utilities.js":47,"./constants.js":41,"./helpers.js":42,"fetch-ponyfill":"fetch-ponyfill","lodash/isArray":28,"lodash/isEmpty":31,"lodash/isObject":34,"query-string":"query-string"}],44:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./private/pc-request.js"),u=t("./private/helpers.js").escapeLucene;e.exports=function(){function t(){n(this,t),this.request=new i("search").format("json")}return o(t,[{key:"query",value:function(t){return this.request.query(t),this}},{key:"q",value:function(t){return this.request.set("q",t),this}},{key:"page",value:function(t){return this.request.set("page",t),this}},{key:"datasource",value:function(t){return this.request.set("datasource",t),this}},{key:"organism",value:function(t){return this.request.set("organism",t),this}},{key:"type",value:function(t){return this.request.set("type",t),this}},{key:"escape",value:function(t){return void 0!==t&&!0!==t||this.q(u(this.request.queryObject.q)),this}},{key:"format",value:function(t){return this.request.format(t),this}},{key:"fetch",value:function(){return this.request.fetch()}}]),t}()},{"./private/helpers.js":42,"./private/pc-request.js":43}],45:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./private/pc-request.js");e.exports=function(){function t(){n(this,t),this.request=new i("top_pathways").format("json")}return o(t,[{key:"query",value:function(t){return this.request.query(t),this}},{key:"q",value:function(t){return this.request.set("q",t),this}},{key:"datasource",value:function(t){return this.request.set("datasource",t),this}},{key:"organism",value:function(t){return this.request.set("organism",t),this}},{key:"format",value:function(t){return this.request.format(t),this}},{key:"fetch",value:function(){return this.request.fetch()}}]),t}()},{"./private/pc-request.js":43}],46:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./private/pc-request.js");e.exports=function(){function t(){n(this,t),this.request=new i("traverse").format("json")}return o(t,[{key:"query",value:function(t){return this.request.query(t),this}},{key:"uri",value:function(t){return this.request.set("uri",t),this}},{key:"path",value:function(t){return this.request.set("path",t),this}},{key:"format",value:function(t){return this.request.format(t),this}},{key:"fetch",value:function(){return this.request.fetch()}}]),t}()},{"./private/pc-request.js":43}],47:[function(t,e,r){"use strict";var n,o=t("fetch-ponyfill")().fetch,i=t("./private/constants.js");e.exports={user:function(t){return void 0!==n&&void 0===t||("string"==typeof t?t=i.idPrefix+t:null===t?t="":void 0===t&&(t=i.idPrefix+"default"),n=t),n},pcCheck:function(t){var e=i.pcAddress+"search?q=p53&user="+i.idPrefix+"pcCheck",r=Number(null!=t?t:0)||1e3;return new Promise(function(t,n){if("undefined"!=typeof XMLHttpRequest){var i=new XMLHttpRequest,u=setTimeout(function(){i.abort(),t(!1)},r);i.open("GET",e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&200===i.status&&(clearTimeout(u),t(!0))},i.send()}else{var u=setTimeout(function(){t(!1)},r);o(e,{method:"get",timeout:r}).then(function(e){200===e.status?(clearTimeout(u),t(!0)):(clearTimeout(u),t(!1))}).catch(function(e){clearTimeout(u),t(!1)})}})},sourceCheck:function(t,e){var r=i.dsIdValidation[t.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")];if("function"==typeof r)return r(e);throw new SyntaxError(t+" is an invalid source")}}},{"./private/constants.js":41,"fetch-ponyfill":"fetch-ponyfill"}],48:[function(t,e,r){"use strict";e.exports={utilities:t("./utilities.js"),datasources:new(t("./datasources.js")),get:function(){return new(t("./get.js"))},search:function(){return new(t("./search.js"))},traverse:function(){return new(t("./traverse.js"))},graph:function(){return new(t("./graph.js"))},top_pathways:function(){return new(t("./top_pathways.js"))}}},{"./datasources.js":38,"./get.js":39,"./graph.js":40,"./search.js":44,"./top_pathways.js":45,"./traverse.js":46,"./utilities.js":47}]},{},[48])(48)});